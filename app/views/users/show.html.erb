<div class="user-show-content">
  <div class="user-show-icon">
    <%= image_tag @user.icon.url, :size => "300x300" %>
    <%= @user.nickname %>
  </div>
  <div class="user-introduction">
    <%= simple_format (h @user.introduction) %>
  </div>
  <div class="user-show-cell">
    <%= render "room" %>
  </div>
</div>
<hr>
<ul class="nav nav-pills mb-4" id="pills-tab" role="tablist">
  <%# デッキリスト %>
  <li class="nav-item">
    <a class="nav-link active" id="pills-deck-tab" data-toggle="pill" href="#pills-deck" role="tab" aria-controls="pills-deck" aria-selected="true">デッキリスト</a>
  </li>
  <% if @user == current_user %>
    <%# 応募 %>
    <li class="nav-item">
      <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">応募</a>
    </li>
    <%# ダイレクトメッセージ %>
    <li class="nav-item">
      <a class="nav-link" id="pills-room-tab" data-toggle="pill" href="#pills-room" role="tab" aria-controls="pills-room" aria-selected="false">ダイレクトメッセージ</a>
    </li>
    <%# チーム %>
    <li class="nav-item">
      <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">チーム</a>
    </li>
  <% end %>
</ul>
<hr>
<div class="tab-content" id="pills-tabContent">
  <%# デッキリスト %>
  <div class="tab-pane fade show active margin" id="pills-deck" role="tabpanel" aria-labelledby="pills-deck-tab">
    <% if @decks.exists? %>
      <div class="container">
        <div class="row row-cols-3">
          <%= render partial: "deck", collection: @decks %>
        </div>
      </div>
    <% else %>
      <% if @user == current_user %>
        <div class="button text-center">
          <%= link_to "デッキを登録する", new_deck_list_path, class: "btn btn-info btn-lg" %>
        </div>
      <% else %>
        <h5 class="text-center button">公開中のデッキはありません。</h5>
      <% end %>
    <% end %>
  </div>
  <% if @user == current_user %>
    <%# 応募 %>
    <div class="tab-pane fade margin" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
      <% if @entries.exists? %>
        <%= render partial: "recruitments/recruitment", collection: @entries %>
      <% else %>
        <div class="button text-center">
          <%= link_to "募集を探す", recruitments_path, class: "btn btn-warning btn-lg" %>
        </div>
      <% end %>
    </div>
    <%# ダイレクトメッセージ %>
    <div class="tab-pane fade margin" id="pills-room" role="tabpanel" aria-labelledby="pills-room-tab">
      <% if @rooms.exists? %>
        <%= render partial: "rooms/room", collection: @rooms %>
      <% else %>
        <div class="button text-center">
          <%= link_to "メッセージを送る", users_path, class: "btn btn-primary btn-lg" %>
        </div>
      <% end %>
    </div>
    <%# チーム %>
    <div class="tab-pane fade margin" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
      <% if @teams.exists? %>
        <%= render partial: "teams/team", collection: @teams %>
      <% else %>
        <div class="button text-center">
          <%= link_to "チームを作成する", new_team_path, class: "btn btn-success btn-lg" %>
        </div>
      <% end %>
    </div>
  <% end %>
</div>
